<templates xml:space="preserve">
    <t t-name="oca_training.Parent">
        <h1>Exercise: Dashboard of Counters</h1>
        <p>
            <button t-on-click="addChild">Add children</button>
            <span> (<t t-esc="state.children.length"/>
 existing)</span>
        </p>
        <div class="row">
            <t t-foreach="state.children" t-as="child" t-key="child_index">
                <t t-if="child != null">
                    <Child id="child_index" unset.bind="() => this.unsetChild(child_index)"/>
                </t>
                <t t-else="">
                    <div class="col no-child">
                        <button t-on-click="() => this.initChild(child_index)">add</button>
                    </div>
                </t>
            </t>
        </div>
    </t>
    <t t-name="oca_training.Child">
        <div class="col child">
            <!-- buttons -->
            <button t-if="editMode.value" t-on-click="save">Save</button>
            <button t-else="" t-on-click="edit">Edit</button>
            <button title="delete" t-on-click="del">X</button>
            <!-- text -->
            <input t-if="editMode.value" type="text" t-model="title.value" placeholder="title"/>
            <div t-else="">
                <t t-esc="title.value"/>
            </div>
            <!-- counter -->
            <input t-if="editMode.value" type="number" t-model="counter.value" placeholder="0"/>
            <div t-else="">
                <t t-esc="counter.value"/><br/>
                <button t-on-click="increment">+1</button>
            </div>

        </div>
    </t>
</templates>